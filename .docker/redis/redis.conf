# Redis configuration for go-utils development
# go-utils 개발을 위한 Redis 설정

# Bind to all interfaces for Docker / Docker용으로 모든 인터페이스에 바인딩
bind 0.0.0.0

# Protected mode disabled for development / 개발 환경에서 protected mode 비활성화
protected-mode no

# Default port / 기본 포트
port 6379

# TCP listen() backlog
tcp-backlog 511

# TCP keepalive
tcp-keepalive 300

# Logging / 로깅
loglevel notice

# Number of databases / 데이터베이스 수
databases 16

# Snapshotting configuration / 스냅샷 설정
save 900 1
save 300 10
save 60 10000

# Stop writes on BGSAVE error / BGSAVE 에러 시 쓰기 중지
stop-writes-on-bgsave-error yes

# Compress string objects using LZF / LZF를 사용하여 문자열 객체 압축
rdbcompression yes

# Checksum RDB files / RDB 파일 체크섬
rdbchecksum yes

# RDB filename / RDB 파일명
dbfilename dump.rdb

# Working directory / 작업 디렉토리
dir /data

# Append Only File / Append Only 파일
appendonly yes
appendfilename "appendonly.aof"
appendfsync everysec
no-appendfsync-on-rewrite no
auto-aof-rewrite-percentage 100
auto-aof-rewrite-min-size 64mb

# Memory management / 메모리 관리
maxmemory-policy noeviction

# Lazy freeing / 지연 해제
lazyfree-lazy-eviction no
lazyfree-lazy-expire no
lazyfree-lazy-server-del no
replica-lazy-flush no

# Slow log / 슬로우 로그
slowlog-log-slower-than 10000
slowlog-max-len 128
